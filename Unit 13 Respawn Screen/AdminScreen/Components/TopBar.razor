@inject IJSRuntime JsRuntime
@inherits MainLayout
@inject Unit_13_Respawn_Screen.Data.AppState AppState
@implements IDisposable

<div class="flex-column">
    <div class="top-left-container">
        <div @onclick="ShowBrowseDialog" class="browse-button">
            <div><img class="browse-icon"/></div>
            <div class="browse-text">Browse layouts</div>
        </div>
    </div>
    <div class="top-right-container">
        <div class="details-container">
            <div class="details-info">Name</div>
            <input class="details-input" type="text" placeholder="Layout name..." value=@AppState.SelectedLayout.Name/>
        </div>
        <div class="details-container">
            <div class="details-info">Briefing</div>
            <input class="details-input briefing" type="text" placeholder="Mission briefing..." value=@AppState.SelectedLayout.Briefing/>
        </div>
    </div>
</div>


@code{
    protected override void OnInitialized()
    {
        AppState.LayoutChange += StateHasChanged;
    }

    public void Dispose()
    {
        AppState.LayoutChange -= StateHasChanged;
    }
    void ShowBrowseDialog()
    {
        AppState.ShowBrowseDialog();
    }
}